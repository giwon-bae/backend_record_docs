# Authentication

## OAuth
인터넷 사용자들이 비밀번호를 제공하지 않고도 다른 웹사이트 자원에 접근할 수 있도록 하는 개방형 표준 프로토콜  

### 주요 개념
1. 리소스 소유자(Resource Owner): 일반적으로 서비스를 사용하는 최종 사용자, 자신의 계정 데이터에 접근을 허용할 권한을 가지고 있음
2. 클라이언트(Client): 사용자를 대신하여 리소스에 접근하려는 애플리케이션
3. 리소스 서버(Resource Server): 보호된 데이터를 호스팅하는 서버, 클라이언트의 요청을 받아 유효한 액세스 토큰을 가진 요청만을 수락
4. 인증 서버(Authorization Server): 리소스 소유자의 승인을 확인하고 클라이언트에게 액세스 토큰을 발급하는 서버

### 인증 흐름
1. 인증 요청
2. 승인
3. 토큰 교환
4. 액세스 토큰 획득
5. 리소스 접근

### GPT가 뽑아낸 인증 흐름 예시
1. 인증 요청
   - 사용자가 음악 스트리밍 서비스에 접속하여 "Spotify로 로그인" 버튼을 클릭합니다.
   - 클라이언트(음악 스트리밍 서비스)는 사용자를 Spotify의 인증 서버로 리디렉션합니다. 이 URL에는 클라이언트 ID, 요청하는 권한 범위(scope), 리디렉션 URI, 그리고 상태 코드가 포함됩니다.
   - 사용자는 Spotify 로그인 페이지에서 자신의 계정 정보를 입력하고, 음악 스트리밍 서비스가 자신의 프로필 정보에 접근할 수 있도록 승인합니다.
2. 사용자 승인과 코드 발급
   - 사용자가 승인하면, Spotify 인증 서버는 사용자를 음악 스트리밍 서비스의 리디렉션 URI로 다시 보냅니다. 이 리디렉션에는 authorization code가 포함되어 있습니다.
3. 토큰 교환
   - 클라이언트는 이 authorization code를 받고, 이 코드와 클라이언트의 비밀 키, 리디렉션 URI를 포함하여 Spotify 인증 서버에 access token을 요청합니다.
   - 인증 서버는 클라이언트의 요청을 검증하고, 유효하다면 access token과 refresh token을 발급합니다.
4. 리소스 접근
   - 클라이언트는 발급받은 access token을 사용하여 Spotify의 리소스 서버에 사용자의 데이터 접근을 요청합니다. 예를 들어, 사용자의 플레이리스트 정보를 요청할 수 있습니다.
   - 리소스 서버는 access token을 검증한 후 요청된 데이터를 클라이언트에게 전송합니다.
5. 세션 유지와 갱신
   - access token은 보통 짧은 시간(예: 1시간) 동안만 유효하며, 만료되면 refresh token을 사용하여 새로운 access token을 요청할 수 있습니다.
   - 이 과정은 사용자가 다시 로그인할 필요 없이 백그라운드에서 이루어지며, 사용자 경험을 방해하지 않습니다.


### 보안 고려사항

## Basic 인증


## Token 인증


## JWT


